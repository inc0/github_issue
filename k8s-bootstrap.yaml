---
apiVersion: "kubeflow.org/v1alpha2"
kind: TFJob
metadata:
  name: github
spec:
  tfReplicaSpecs:
    Master:
      replicas: 1
      template:
        spec:
          containers:
          - name: tensorflow
            image: inc0/issues
            command: ["python", "/issues/train.py"]
            volumeMounts:
            - name: data
              mountPath: "/data"
          volumes:
            - name: data
              hostPath:
                path: "/opt/data"
    Worker:
      replicas: 1
      template:
        spec:
          containers:
          - name: tensorflow
            image: inc0/issues
            command: ["python", "/issues/train.py"]
            volumeMounts:
            - name: data
              mountPath: "/data"
          volumes:
            - name: data
              hostPath:
                path: "/opt/data"
    PS:
      replicas: 1
      template:
        spec:
          containers:
          - name: tensorflow
            image: inc0/issues
            command: ["python", "/issues/train.py"]
            volumeMounts:
            - name: data
              mountPath: "/data"
          volumes:
            - name: data
              hostPath:
                path: "/opt/data"
